<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=11' />
    <title>Docbox</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link href='css/base.css' rel='stylesheet' />
    <link href='css/style.css' rel='stylesheet' />
    <link href='css/railscasts.css' rel='stylesheet' />
  </head>
  <body>
    <!--START--><div id='app'><div class="container unlimiter" data-reactroot="" data-reactid="1" data-react-checksum="62717226"><div class="fixed-top fixed-right space-left16" data-reactid="2"><div class="fill-light col6 pin-right" data-reactid="3"></div></div><div class="space-top5 scroll-styled overflow-auto pad1 width16 sidebar fixed-left fill-dark dark" data-reactid="4"><div class="pad0x small" data-reactid="5"><a href="#introduction" class="line-height15 pad0x pad00y quiet block " data-reactid="6">Introduction</a><div class="small pad0x quiet space-top1" data-reactid="7">Topics</div><a href="#pagination" class="line-height15 pad0x pad00y quiet block " data-reactid="8">Pagination</a><div class="small pad0x quiet space-top1" data-reactid="9">Services</div><div class="small pad0x quiet space-top1" data-reactid="10">Travaux publiques</div><a href="#parcours" class="line-height15 pad0x pad00y quiet block " data-reactid="11">Parcours</a><a href="#opérations" class="line-height15 pad0x pad00y quiet block " data-reactid="12">Opérations</a><div class="small pad0x quiet space-top1" data-reactid="13">Layers</div><a href="#requêtes-sur-des-couches-géomatiques" class="line-height15 pad0x pad00y quiet block " data-reactid="14">Requêtes sur des couches géomatiques</a></div></div><div class="space-left16" data-reactid="15"><div class="" data-reactid="16"><div class="clearfix" data-reactid="17"><div data-title="Introduction" class="keyline-top section contain clearfix " data-reactid="18"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="19"><h2 id="introduction">Introduction</h2>
<p>API utilisée pour interagir avec les données géomatiques de Ville de Laval.
Cette API n'est pas encore stable et est sujette à changement sans préavis.</p>
</div></div><div data-title="Pagination" class="keyline-top section contain clearfix " data-reactid="20"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="21"><h2 id="pagination">Pagination</h2>
<p>The <a href="http://docs.python-requests.org/en/master/user/advanced/#link-headers">Python requests library</a>, and the <a href="https://github.com/thlorenz/parse-link-header">link-header-parser module for JavaScript</a> can parse Link headers. Link headers follow the <a href="http://tools.ietf.org/html/rfc5988">RFC 5988 specifications</a>.</p>
<p>Ces points d'accès permettent de suivre et de participer à une opération des travaux publiques.</p>
</div></div><div data-title="Parcours" class="keyline-top section contain clearfix " data-reactid="22"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="23"><h2 id="parcours">Parcours</h2>
<p>Un parcours opérationnel est une séquence de tronçons participant à un réseau d'entretiens de la ville.
Ces tronçons représentent des voies carrossables ou des pistes cyclables et leur ordonnancement indique
la séquence normale de traitement.</p>
</div></div><div data-title="Get Routes" class="keyline-top section contain clearfix " data-reactid="24"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="25"><h3 id="get-routes">Get Routes</h3>
<p>Obtient les routes opérationnelles des travaux publiques.</p>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="26"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/public_works/routes/<span class="strong">{layer}</span></div>
    </div>
<h4 id="ou">ou</h4>
<div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/public_works/snow_plowing/routes</div>
    </div>
<div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/public_works/snow_salting/routes</div>
    </div>
<div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/public_works/snow_disposal/routes</div>
    </div>
</div></div><div data-title="Opérations" class="keyline-top section contain clearfix " data-reactid="27"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="28"><h2 id="opérations">Opérations</h2>
<p>Une opération est un regroupement de plusieurs activités (ou bons de travail) mesurables et accomplies
selon une séquence logique quelconque. Par exemple, dans le cadre du suivi de la disposition de la neige,
l'opération regroupe l'ensemble des parcours où la neige doit être enlevée par camion ou soufflé sur les
terrains.</p>
</div></div><div data-title="Get operations types" class="keyline-top section contain clearfix " data-reactid="29"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="30"><h3 id="get-operations-types">Get operations types</h3>
<p>Obtient les types d'opérations supportées par les travaux publiques.</p>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="31"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/public_works/operation_types</div>
    </div>
<h4 id="ou-1">ou</h4>
<div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/public_works/operations</div>
    </div>
</div></div><div data-title="Get operations" class="keyline-top section contain clearfix " data-reactid="32"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="33"><h3 id="get-operations">Get operations</h3>
<p>Obtient les opérations récentes et en cours des travaux publiques.</p>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="34"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/public_works/operations</div>
    </div>
</div></div><div data-title="Get operation by id" class="keyline-top section contain clearfix " data-reactid="35"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="36"><h3 id="get-operation-by-id">Get operation by id</h3>
<p>Obtient le détail d'une opération des travaux publiques.</p>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="37"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/public_works/operations/<span class="strong">{operation_id}</span></div>
    </div>
</div></div><div data-title="Start operation" class="keyline-top section contain clearfix " data-reactid="38"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="39"><h3 id="start-operation">Start operation</h3>
<p>Démarre une nouvelle opération des travaux publiques selon un scénario prédéfini.</p>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="40"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>POST</div>
      <div class='pad0 code small endpoint-url'>/public_works/operations?type=<span class="strong">{operation_type}</span>&scenario={scenario_id?}</div>
    </div>
<h4 id="message-payload-simplified-form">Message Payload: simplified form</h4>
<pre class='hljs'>[{
  "type":"soufflage",
  "version": 1,
  "routes: ["route_1", "route_2", "route_3"],
}]</pre>
<h5 id="message-payload-complex-form">Message payload: complex form</h5>
<pre class='hljs'>[{
  "type":"soufflage",
  "version": 1,
  "routes: ["route_1", "route_2", {
      "id": "route_3",
      // supports partial routes
      "segments": ["segment_5", "segment_6"]
  }],
}]</pre>
</div></div><div data-title="Update an operation" class="keyline-top section contain clearfix " data-reactid="41"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="42"><h3 id="update-an-operation">Update an operation</h3>
<p>Modifie les parcours attitrés à une opération. Si l'opération est terminée ou qu'un avancement a été
documenté pour les parcours à retirer, le retrait sera refusé.</p>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="43"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>PUT</div>
      <div class='pad0 code small endpoint-url'>/public_works/operations/<span class="strong">{operation_id}</span></div>
    </div>
</div></div><div data-title="Add/Update a route" class="keyline-top section contain clearfix " data-reactid="44"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="45"><h3 id="addupdate-a-route">Add/Update a route</h3>
<p>Ajoute ou modifie un parcours attitré à une opération.
Si la requête est exécutée sans message, tous les segments du parcours seront
ajoutés à l'opération.</p>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="46"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>PUT</div>
      <div class='pad0 code small endpoint-url'>/public_works/operations/<span class="strong">{operation_id}</span>/route/<span class="strong">{route_id}</span></div>
    </div>
<h5 id="optional-message-payload">Optional message payload</h5>
<pre class='hljs'>[{
  // only keep 2 segments from {route_id}.
  "segments": ["segment_5", "segment_6"]
}]</pre>
</div></div><div data-title="Remove a route" class="keyline-top section contain clearfix " data-reactid="47"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="48"><h3 id="remove-a-route">Remove a route</h3>
<p>Retire un parcours d'une opération.</p>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="49"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>DELETE</div>
      <div class='pad0 code small endpoint-url'>/public_works/operations/<span class="strong">{operation_id}</span>/route/<span class="strong">{route_id}</span></div>
    </div>
</div></div><div data-title="Requêtes sur des couches géomatiques" class="keyline-top section contain clearfix " data-reactid="50"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="51"><h2 id="requêtes-sur-des-couches-géomatiques">Requêtes sur des couches géomatiques</h2>
<p>Ces points d'accès permettent de rechercher des données géomatiques en fonction de différents critères descriptifs ou spatiaux.</p>
</div></div><div data-title="Get Entities" class="keyline-top section contain clearfix " data-reactid="52"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="53"><h3 id="get-entities">Get Entities</h3>
<p>Obtient les entités de la couche demandée.</p>
<table>
<thead>
<tr>
<th>URL Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layer</code></td>
<td>Nom de la couche d'interrogation.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Query Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x</code></td>
<td>Coordonnée 
<code>x</code>
 du point d'interrogation. Doit être dans le même système de projection que la donnée source. À utiliser conjointement avec 
<code>y</code>
.</td>
</tr>
<tr>
<td><code>y</code></td>
<td>Coordonnée 
<code>y</code>
 du point d'interrogation. Doit être dans le même système de projection que la donnée source. À utiliser conjointement avec 
<code>x</code>
.</td>
</tr>
<tr>
<td><code>lat</code></td>
<td>Latitude du point d'interrogation. Les données seront reprojetées à la volée en WGS84. À utiliser conjointement avec 
<code>lng</code>
.</td>
</tr>
<tr>
<td><code>lng</code></td>
<td>Longitude du point d'interrogation. Les données seront reprojetées à la volée en WGS84. À utiliser conjointement avec 
<code>lat</code>
.</td>
</tr>
</tbody>
</table>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="54"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/layers/<span class="strong">{layer}</span></div>
    </div>
<h4 id="exemple-obtient-toutes-les-entités-de-layer-intersectant-le-point-xy">Exemple: Obtient toutes les entités de <code>layer</code> intersectant le point (<code>x</code>,<code>y</code>):</h4>
<pre class='hljs'>$ curl https://geo.laval.ca/geoapi/layers/{layer}?x={x}&amp;y={y}</pre>
<h4 id="example-response">Example response</h4>
<pre class='hljs'>[{<span class="hljs-attr">"todo"</span>:<span class="hljs-literal">true</span>}
]</pre>
</div></div><div data-title="Get Entity by ID" class="keyline-top section contain clearfix " data-reactid="55"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="56"><h3 id="get-entity-by-id">Get Entity by ID</h3>
<p>Obtient les éléments avec les identifiants d'affaires demandés.</p>
<table>
<thead>
<tr>
<th>URL Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layer</code></td>
<td>Nom de la couche d'interrogation.</td>
</tr>
<tr>
<td><code>id</code></td>
<td>Identifiant (clé d'affaires) de l'élément recherché.</td>
</tr>
</tbody>
</table>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="57"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/layers/<span class="strong">{layer}</span>/<span class="strong">{id}</span></div>
    </div>
<h4 id="exemple-obtient-le-cadastre-1-034-789">Exemple: Obtient le cadastre <em>1 034 789</em>:</h4>
<pre class='hljs'>$ curl https://geo.laval.ca/geoapi/layers/cadastre/1034789</pre>
<h4 id="example-response-1">Example response</h4>
<pre class='hljs'>[{<span class="hljs-attr">"todo"</span>:<span class="hljs-literal">true</span>}
]</pre>
<h4 id="exemple-obtient-le-cadastre-1-034-789-et-le-plan-complémentaire-pc-00342">Exemple: Obtient le cadastre <em>1 034 789</em> et le plan complémentaire <em>PC-00342</em>:</h4>
<pre class='hljs'>$ curl https://geo.laval.ca/geoapi/layers/cadastre/1034789,PC-00342</pre>
<h4 id="example-response-2">Example response</h4>
<pre class='hljs'>[{<span class="hljs-attr">"todo"</span>:<span class="hljs-literal">true</span>}
]</pre>
</div></div><div data-title="Get Related Entities" class="keyline-top section contain clearfix " data-reactid="58"><div class="space-bottom8 col6 pad2x prose clip" data-reactid="59"><h3 id="get-related-entities">Get Related Entities</h3>
<p>Obtient les éléments liés à l'élément demandé par son identifiant d'affaires <code>id</code> demandée.</p>
<table>
<thead>
<tr>
<th>URL Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layer</code></td>
<td>Nom de la couche d'interrogation.</td>
</tr>
<tr>
<td><code>relLayers</code></td>
<td>Liste des couches à analyser pour la 
<code>relation</code>
 spatiale en paramètre.</td>
</tr>
<tr>
<td><code>ids</code></td>
<td>Liste des identifiants d'affaires demandés. La longueur maximale d'une requête HTTP varie d'un navigateur à l'autre. Si vous avez plusieurs identifiants à rechercher, il est possible que vous deviez effectuer plusieurs appels en succession pour l'ensemble de votre requête.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Query Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>relation</code></td>
<td>Type de relation spatiale à appliquer. Valeurs acceptées: 
<code>intersects</code>
 (valeur par défaut), 
<code>contains</code>
, 
<code>crosses</code>
, 
<code>overlaps</code>
, 
<code>touches</code>
, 
<code>within</code>
.</td>
</tr>
<tr>
<td><code>distance</code></td>
<td>Tampon à effectuer sur les éléments de 
<code>layer</code>
 avant d'exécuter l'analyse des relations spatiales.</td>
</tr>
</tbody>
</table>
</div><div class="space-bottom4 col6 pad2 prose clip fill-light space-top5" data-reactid="60"><div class='endpoint dark fill-dark round '>
      <div class='round-left pad0y pad1x fill-lighten0 code small endpoint-method'>GET</div>
      <div class='pad0 code small endpoint-url'>/layers/<span class="strong">{layer}</span>/<span class="strong">{ids}</span>/<span class="strong">{relLayers}</span>?rel=<span class="strong">{relation}</span>&distance=<span class="strong">{distance}</span></div>
    </div>
<h4 id="exemple-obtient-la-zone-inondable-touchant-le-cadastre-1-034-789">Exemple: Obtient la zone inondable touchant le cadastre <em>1 034 789</em>:</h4>
<pre class='hljs'>$ curl https://geo.laval.ca/geoapi/layers/cadastre/1034789/zone_inondable</pre>
<h4 id="exemple-obtient-les-parcs-à-500m-de-ladresse-1-place-du-souvenir-civ41567">Exemple: Obtient les parcs à 500m de l'adresse <em>1 Place du Souvenir (CIV41567)</em>:</h4>
<pre class='hljs'>$ curl https://geo.laval.ca/geoapi/layers/adresse_civique/41567/espace_vert?distance=100</pre>
<h4 id="exemple-de-response">Exemple de response</h4>
<pre class='hljs'>[{<span class="hljs-attr">"todo"</span>:<span class="hljs-literal">true</span>}
]</pre>
</div></div></div></div></div><div class="fixed-top space-left16" data-reactid="61"><div class="events fill-light bottom-shadow pad1 col6 pin-topright  " data-reactid="62"><div class="space-right1 small quiet inline" data-reactid="63">Show examples in:</div><div class="rounded-toggle inline short" data-reactid="64"><a class="strong active" data-reactid="65">cURL</a></div><div class="fr pad0" data-reactid="66"><a title="Display as 1 column" style="cursor:pointer;" class="icon quiet caret-left pad0 fill-darken0 round" data-reactid="67"></a></div></div></div><div class="fill-dark dark bottom-shadow fixed-top pad0 width16" data-reactid="68"><a href="/" class="active space-top1 space-left1 pin-topleft icon round dark pad0 fill-red" data-reactid="69"></a><div class="strong small pad0
          
          space-left4 line-height15" data-reactid="70">G�omatique - Documentation d&#x27;API</div></div></div></div><!--STOP-->
    <script src='bundle.js'></script>
  </body>
</html>
